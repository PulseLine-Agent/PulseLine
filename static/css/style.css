/*
This CSS styles a chat application UI with support for both light and dark modes. 
It sets base styles, layouts, colors, and animations for the chat container, messages, header, input area, buttons, and typing indicator. 
It also includes responsive sizing and interactive states like hover and focus. 
*/

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.5)), url('/static/img/background.jpg');
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.chat-container {
    width: 90%;
    max-width: 800px;
    height: 90vh;
    background-color: rgb(231, 230, 230);
    border-radius: 10px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.chat-container.darkMode {
    width: 90%;
    max-width: 800px;
    height: 90vh;
    background-color: #3a3b3c;
    border-radius: 10px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

header {
    padding: 15px 20px;
    background: linear-gradient(to bottom right, #fea29e, #fa437d, #9e3db3, #6d48ce);
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header.darkMode {
    padding: 15px 20px;
    background: linear-gradient(to bottom right, #4f2756, #880053, #44154b, #26123f);
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header h1 {
    font-size: 1.5rem;
    font-weight: 600;
}

#dark-mode-toggle {
    background-color: #53837d;
    color: white;
    border: none;
    border-radius: 20px;
    padding: 10px;
    font-size: 0.95rem;
    cursor: pointer;
    transition: background-color 0.2s;
}

#dark-mode-toggle:hover {
    background-color: #4c7973;
}

#connection-status {
    font-size: 0.8rem;
    padding: 4px 8px;
    background-color: #555;
    border-radius: 12px;
    margin: 0px 10px 0px auto;
}

#connection-status.connected {
    background-color: #4caf50;
}

#connection-status.disconnected {
    background-color: #f44336;
}

.messages-container {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.message {
    max-width: 75%;
    padding: 12px 15px;
    border-radius: 18px;
    line-height: 1.4;
    position: relative;
    word-wrap: break-word;
}

.user-message {
    background-color: #10217d;
    color: white;
    align-self: flex-end;
    border-bottom-right-radius: 4px;
}

.assistant-message {
    background-color: #f0f2f5;
    color: #333;
    align-self: flex-start;
    border-bottom-left-radius: 4px;
}

.typing-indicator {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 8px 12px;
    background-color: #f0f2f5;
    border-radius: 18px;
    align-self: flex-start;
    margin-top: 5px;
}

.typing-dot {
    width: 8px;
    height: 8px;
    background-color: #888;
    border-radius: 50%;
    animation: typing-dot 1.4s infinite ease-in-out;
}

.typing-dot:nth-child(1) { animation-delay: 0s; }
.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }

@keyframes typing-dot {
    0%, 60%, 100% { transform: translateY(0); }
    30% { transform: translateY(-5px); }
}

.input-container {
    display: flex;
    padding: 15px;
    background-color: #d3d3d3;
    border-top: 1px solid #c1c1c1;
    gap: 10px;
}

.input-container.darkMode {
    display: flex;
    padding: 15px;
    background-color: #2c2d2e;
    border-top: 1px solid #171717;
    gap: 10px;
}

#message-input {
    flex: 1;
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 20px;
    resize: none;
    outline: none;
    font-size: 0.95rem;
    transition: border-color 0.2s;
}

#message-input.darkMode {
    flex: 1;
    padding: 12px 15px;
    border: 1px solid #171717;
    border-radius: 20px;
    resize: none;
    outline: none;
    font-size: 0.95rem;
    transition: border-color 0.2s;
    background-color: #3a3b3c;
    color: white;
}

#message-input:focus {
    border-color: #68a49d;
}   

#send-button {
    background-color: #68a49d;
    color: white;
    border: none;
    border-radius: 20px;
    padding: 0 20px;
    font-size: 0.95rem;
    cursor: pointer;
    transition: background-color 0.2s;
}

#send-button:hover {
    background-color: #4c7973;
}

#send-button:disabled {
    background-color: #b4a8e0;
    cursor: not-allowed;
}

/* Code block styling */
.code-block {
    background-color: #f8f9fa;
    border-radius: 5px;
    padding: 10px;
    font-family: 'Courier New', monospace;
    font-size: 0.9em;
    white-space: pre-wrap;
    margin: 10px 0;
    border-left: 3px solid #68a49d;
}